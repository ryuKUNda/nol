(()=>{"use strict";var e={2394:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;const s=i(6575);t.Channel=class{constructor(e){this.syncId=0,this.alive=new s.AliveProvider,this.entities=new s.EntityProvider,this.socket=new WebSocket(`ws://${location.host}/ws/direct/${e}`),this.socket.binaryType="arraybuffer",this.socket.addEventListener("message",(e=>this.receive(e)))}create(e){this.entities.create(e.source)}delete(e){this.entities.delete(e.source)}async runAsync(e){for(;;)switch(this.socket.readyState){case this.socket.CONNECTING:await new Promise(requestAnimationFrame);break;case this.socket.OPEN:e(),this.update(),await new Promise(requestAnimationFrame);break;default:throw new Error("Invalid channel state!")}}receive(e){if(e.data instanceof ArrayBuffer){const t=new s.BinaryReader(e.data);for(;t.hasBytes();)switch(t.readUInt8()){case s.PacketType.BasicSync:this.entities.receive(s.BasicSync.create(t));break;case s.PacketType.EntityUpdate:this.entities.receive(s.EntityUpdate.create(t))}}}update(){const e=new s.BinaryWriter;this.alive.update(e),this.entities.update(e,this.syncId),e.hasBytes()&&(new s.BasicSync(this.syncId).write(e),this.socket.send(e.toBuffer()),this.syncId=255!==this.syncId?this.syncId+1:0)}}},1578:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Process=void 0;const s=i(6575);t.Process=class{constructor(e,t=e.args,i=e.command,s=e.pid){this.args=t,this.command=i,this.pid=s}async regionsAsync(){const e=await fetch(`/api/proc/${this.pid}/maps`);return(await e.json()).map((e=>new s.Region(e)))}}},4517:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Region=void 0;function i(e){return/^0x/i.test(e)?BigInt(e):BigInt(`0x${e}`)}t.Region=class{constructor(e,t=i(e.start),s=i(e.end),r=e.perms,n=i(e.offset),a=e.devMajor,o=e.devMinor,c=i(e.inode),l=e.pathname){this.start=t,this.end=s,this.perms=r,this.offset=n,this.devMajor=a,this.devMinor=o,this.inode=c,this.pathname=l}}},4364:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;const s=i(6575);t.Server=class{async processesAsync(){const e=await fetch("/api/proc");return(await e.json()).map((e=>new s.Process(e)))}async versionAsync(){const e=await fetch("/api/version");return await e.json().catch((()=>0))}}},2323:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Adapter=void 0;t.Adapter=class{constructor(e){this.source=e}}},292:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PacketType=void 0,function(e){e[e.BasicAlive=0]="BasicAlive",e[e.BasicSync=1]="BasicSync",e[e.EntityChange=2]="EntityChange",e[e.EntityCreate=3]="EntityCreate",e[e.EntityDelete=4]="EntityDelete",e[e.EntityUpdate=5]="EntityUpdate"}(t.PacketType||(t.PacketType={}))},7473:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},1821:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},4370:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Entity=void 0;const s=i(6575);t.Entity=class{constructor(e,t,i){this.address=e,this.members=function(e){const t=new Map;for(const i of e)t.set(i.source.offset,i.source);return t}(t),this.options=i}receive(e){e instanceof s.EntityUpdateEntity?this.receiveUpdate(e):this.receiveSync(e)}update(e,t){const i=[];return this.createUpdate(i,t),i.length?new s.EntityChange(e,i):void 0}createUpdate(e,t){for(const i of this.members.values()){const s=i.update(t);s&&e.push(s)}}receiveUpdate(e){for(const t of e.members){const e=this.members.get(t.offset);e&&e.receive(t)}}receiveSync(e){for(const t of this.members.values())t.receive(e)}}},9682:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityMember=void 0;const s=i(6575);t.EntityMember=class{constructor(e,t,i){this.buffer=new DataView(new ArrayBuffer(i)),this.interval=t,this.offset=e}receive(e){e instanceof s.EntityUpdateEntityMember?this.receiveUpdate(e):this.receiveSync(e)}update(e){if(this.send)return this.send=!1,this.syncId=e,new s.EntityChangeMember(this.offset,this.buffer)}receiveUpdate(e){if(void 0===this.syncId&&e.buffer.byteLength===this.buffer.byteLength)for(let t=0;t<e.buffer.byteLength;t++)this.buffer.setInt8(t,e.buffer.getInt8(t))}receiveSync(e){this.syncId===e.id&&(this.syncId=void 0)}}},6575:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,s,r)}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(292),t),r(i(7473),t),r(i(1821),t),r(i(2323),t),r(i(4370),t),r(i(9682),t),r(i(5209),t),r(i(6717),t),r(i(6683),t),r(i(6205),t),r(i(9897),t),r(i(8198),t),r(i(3693),t),r(i(365),t),r(i(5865),t),r(i(8136),t),r(i(9079),t),r(i(7797),t),r(i(257),t),r(i(4486),t),r(i(2394),t),r(i(1578),t),r(i(4517),t),r(i(4364),t)},5209:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicAlive=void 0;const s=i(6575);t.BasicAlive=class{write(e){e.writeUInt8(s.PacketType.BasicAlive)}}},6717:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicSync=void 0;const s=i(6575);class r{constructor(e){this.id=e}static create(e){const t=e.readUInt8();return new r(t)}write(e){e.writeUInt8(s.PacketType.BasicSync),e.writeUInt8(this.id)}}t.BasicSync=r},6683:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityChange=void 0;const s=i(6575);t.EntityChange=class{constructor(e,t){this.id=e,this.changes=t}write(e){e.writeUInt8(s.PacketType.EntityChange),e.writeVariableLength(this.id),e.writeVariableLength(this.changes.length),this.changes.forEach((t=>t.write(e)))}}},6205:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityChangeMember=void 0;t.EntityChangeMember=class{constructor(e,t){this.offset=e,this.buffer=t}write(e){e.writeVariableLength(this.offset),e.writeVariableLength(this.buffer.byteLength),e.writeBytes(this.buffer)}}},9897:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityCreate=void 0;const s=i(6575);t.EntityCreate=class{constructor(e,t,i,s){this.id=e,this.address=t,this.members=i,this.requestBatch=s}write(e){e.writeUInt8(s.PacketType.EntityCreate),e.writeVariableLength(this.id),e.writeUInt64(this.address),e.writeVariableLength(this.members.length),this.members.forEach((t=>t.write(e))),e.writeUInt8(Number(this.requestBatch))}}},8198:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityCreateMember=void 0;t.EntityCreateMember=class{constructor(e,t,i){this.offset=e,this.interval=t,this.size=i}write(e){e.writeVariableLength(this.offset),e.writeVariableLength(this.interval),e.writeVariableLength(this.size)}}},3693:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityDelete=void 0;const s=i(6575);t.EntityDelete=class{constructor(e){this.id=e}write(e){e.writeUInt8(s.PacketType.EntityDelete),e.writeVariableLength(this.id)}}},365:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdate=void 0;const s=i(6575);class r{constructor(e){this.entities=e}static create(e){const t=e.readVariableLength(),i=function(e,t){const i=new Array(t);for(let r=0;r<t;r++)i[r]=s.EntityUpdateEntity.create(e);return i}(e,t);return new r(i)}}t.EntityUpdate=r},5865:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdateEntity=void 0;const s=i(6575);class r{constructor(e,t){this.id=e,this.members=t}static create(e){const t=e.readVariableLength(),i=e.readVariableLength(),n=function(e,t){const i=new Array(t);for(let r=0;r<t;r++)i[r]=s.EntityUpdateEntityMember.create(e);return i}(e,i);return new r(t,n)}}t.EntityUpdateEntity=r},8136:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdateEntityMember=void 0;class i{constructor(e,t){this.offset=e,this.buffer=t}static create(e){const t=e.readVariableLength(),s=e.readVariableLength(),r=e.readBytes(s);return new i(t,r)}}t.EntityUpdateEntityMember=i},9079:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AliveProvider=void 0;const s=i(6575);t.AliveProvider=class{constructor(){this.nextActiveTime=this.getNextTime()}update(e){this.nextActiveTime>=Date.now()||((new s.BasicAlive).write(e),this.nextActiveTime=this.getNextTime())}getNextTime(){return Date.now()+1e4}}},7797:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityProvider=void 0;const s=i(6575);function r(e){const t=[];for(const[i,r]of e)t.push(new s.EntityCreateMember(i,r.interval,r.buffer.byteLength));return t}t.EntityProvider=class{constructor(){this.createEntities=new Map,this.deleteEntities=new Map,this.livingEntities=new Map,this.lookupEntities=new Map,this.releasedIds=[],this.nextId=0}create(e){const t=this.releasedIds.pop();if(void 0!==t)this.createEntities.set(t,e),this.lookupEntities.set(e,t);else{const t=this.nextId;this.createEntities.set(t,e),this.lookupEntities.set(e,t),this.nextId++}}delete(e){const t=this.lookupEntities.get(e);if(void 0===t)throw new Error;this.createEntities.has(t)?(this.createEntities.delete(t),this.lookupEntities.delete(e)):this.livingEntities.has(t)&&(this.deleteEntities.set(t,e),this.livingEntities.delete(t),this.lookupEntities.delete(e))}receive(e){e instanceof s.EntityUpdate?this.receiveUpdate(e):this.receiveSync(e)}update(e,t){for(const t of this.deleteEntities.keys()){const i=new s.EntityDelete(t);this.deleteEntities.delete(t),this.releasedIds.push(t),i.write(e)}for(const[t,i]of this.createEntities){const n=new s.EntityCreate(t,i.address,r(i.members),Boolean(i.options?.requestBatch));this.createEntities.delete(t),this.livingEntities.set(t,i),n.write(e)}for(const[i,s]of this.livingEntities){if(!s.options||!s.options.enableUpdate)continue;const r=s.update(i,t);r&&r.write(e)}}receiveUpdate(e){for(const t of e.entities){const e=this.livingEntities.get(t.id);e&&e.receive(t)}}receiveSync(e){for(const t of this.livingEntities.values())t.options&&t.options.enableUpdate&&t.receive(e)}}},257:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryReader=void 0;t.BinaryReader=class{constructor(e){this.buffer=new DataView(e),this.offset=0}hasBytes(){return this.offset<this.buffer.byteLength-this.buffer.byteOffset}readBytes(e){const t=new DataView(this.buffer.buffer,this.offset,e);return this.offset+=e,t}readUInt8(){const e=this.buffer.getUint8(this.offset);return this.offset+=1,e}readUInt64(){const e=this.buffer.getBigUint64(this.offset,!0);return this.offset+=8,e}readVariableLength(){for(var e=!0,t=0,i=0;e;){var s=this.readUInt8();e=0!=(128&s),t|=(127&s)<<i,i+=7}return t}}},4486:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryWriter=void 0;t.BinaryWriter=class{constructor(){this.buffer=new DataView(new ArrayBuffer(1024)),this.offset=0}hasBytes(){return Boolean(this.offset)}writeBytes(e){for(let t=0;t<e.byteLength;t++)this.writeUInt8(e.getUint8(t))}writeUInt8(e){this.prepare(1),this.buffer.setUint8(this.offset,e),this.offset+=1}writeUInt64(e){this.prepare(8),this.buffer.setBigUint64(this.offset,e,!0),this.offset+=8}writeVariableLength(e){let t=!0;for(;t;){let i=127&e;t=0!=(e>>=7),i|=t?128:0,this.writeUInt8(i)}}toBuffer(){return new DataView(this.buffer.buffer,0,this.offset)}prepare(e){for(;this.offset+e>this.buffer.byteLength;){const e=new DataView(new ArrayBuffer(2*this.buffer.byteLength));for(let t=0;t<this.offset;t++)e.setUint8(t,this.buffer.getUint8(t));this.buffer=e}}}},4780:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Core=void 0;const s=i(8207);class r{constructor(e,t,i=new s.EntityList(e+s.coreOffsets.clEntityList),r=new s.EntityListFilter(s.Item,"prop_survival"),n=new s.EntityListFilter(s.NPC,"npc_dummie"),a=new s.EntityListFilter(s.Player,"player"),o=new s.SignifierList(t)){this.address=e,this.channel=t,this.entityList=i,this.itemFilter=r,this.npcFilter=n,this.playerFilter=a,this.signifierList=o,this.levelName=new s.LevelName(this.address+s.coreOffsets.levelName),this.localPlayer=new s.LocalPlayer(this.address+s.coreOffsets.localPlayer),this.itemList=this.itemFilter.map,this.npcList=this.npcFilter.map,this.playerList=this.playerFilter.map,this.channel.create(this.entityList),this.channel.create(this.levelName),this.channel.create(this.localPlayer)}static async createAsync(e){const t=(await e.processesAsync()).find((e=>e.command.toLowerCase().endsWith("r5apex.exe")));if(!t)throw new Error("Invalid process!");const i=await t.regionsAsync(),n=i.find((e=>e.pathname.toLowerCase().endsWith("r5apex.exe")))??i.find((e=>1==e.perms&&e.pathname.startsWith("/memfd")))??i.find((e=>e.start===BigInt(5368709120)));if(!n)throw new Error("Invalid region!");return new r(n.start,new s.api.Channel(t.pid))}async runAsync(e){const t=[this.itemFilter,this.npcFilter,this.playerFilter];await this.channel.runAsync((()=>{this.entityList.update(this.channel),t.forEach((e=>e.update(this.channel,this.entityList,this.signifierList))),e()}))}}t.Core=r},8481:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Entity=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=new s.UInt64(s.entityOffsets.iSignifierName,6e4)){super(new s.api.Entity(e,[t])),this.signifierName=t}get value(){return this.signifierName.value}}t.Entity=r},350:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityList=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=Array(65536).fill(0).map(((e,t)=>new s.UInt64(t<<5,1e3)))){super(new s.api.Entity(e,t,{requestBatch:!0})),this.pointers=t,this.entities=new Map,this.nextTime=0}get map(){return this.entities}update(e){(!this.nextTime||this.nextTime<Date.now())&&(this.onUpdate(e),this.nextTime=Date.now()+1e3)}checkCreate(e,t,i){if(this.entities.has(e))i.add(e);else{const r=new s.Entity(e);this.entities.set(e,r),t.create(r),i.add(e)}}onUpdate(e){const t=new Set;for(const i of this.pointers){const s=i.value;s&&this.checkCreate(s,e,t)}for(const[i,s]of this.entities)t.has(i)||(this.entities.delete(i),e.delete(s))}}t.EntityList=r},7432:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityListFilter=void 0;t.EntityListFilter=class{constructor(e,t){this.Constructor=e,this.signifier=t,this.entities=new Map,this.nextTime=0}get map(){return this.entities}update(e,t,i){(!this.nextTime||this.nextTime<Date.now())&&(this.onUpdate(e,t,i),this.nextTime=Date.now()+1e3)}checkCreate(e,t,i){if(this.entities.has(e))i.add(e);else{const s=new this.Constructor(e);this.entities.set(e,s),t.create(s),i.add(e)}}onUpdate(e,t,i){const s=new Set;for(const r of t.map.values()){i.get(r.value).value===this.signifier&&this.checkCreate(r.source.address,e,s)}for(const[t,i]of this.entities)s.has(t)||(this.entities.delete(t),e.delete(i))}}},7617:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LevelName=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=new s.CString(0,1e3,32)){super(new s.api.Entity(e,[t])),this.levelName=t}get value(){return this.levelName.value}}t.LevelName=r},7121:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalPlayer=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=new s.UInt64(0,1e3)){super(new s.api.Entity(e,[t])),this.localPlayer=t}get value(){return this.localPlayer.value}}t.LocalPlayer=r},1618:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Signifier=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=new s.CString(0,6e4,32)){super(new s.api.Entity(e,[t])),this.signifierName=t}get value(){return this.signifierName.value}}t.Signifier=r},3581:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SignifierList=void 0;const s=i(8207);t.SignifierList=class{constructor(e,t=new Map){this.channel=e,this.signifiers=t}get(e){return this.signifiers.get(e)??this.create(e)}create(e){const t=new s.Signifier(e);return this.signifiers.set(e,t),this.channel.create(t),t}}},7132:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=new s.Vector(s.entityOffsets.localOrigin,6e4),i=new s.UInt32(s.itemOffsets.highlightFunctionBits,1e3),r=new s.UInt32(s.itemOffsets.customScriptInt,6e4)){super(new s.api.Entity(e,[t,i,r],{enableUpdate:!0})),this.address=e,this.localOrigin=t,this.highlightFunctionBits=i,this.customScriptInt=r}get hasColor(){return Boolean(this.createColor())}createColor(){switch(this.customScriptInt.value){case n.PhoenixKit:return"#DCE775";case n.MedKit:return"#81C784";case n.ShieldBattery:return"#64B5F6";case n.EvoShield3:return"#BA68C8";default:return"#2bf4ff"}}toString(){return s.serialize(this)}}var n;t.Item=r,function(e){e[e.PhoenixKit=161]="PhoenixKit",e[e.MedKit=162]="MedKit",e[e.ShieldBattery=164]="ShieldBattery",e[e.EvoShield3=177]="EvoShield3"}(n||(n={}))},5429:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NPC=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=new s.Vector(s.entityOffsets.localOrigin)){super(new s.api.Entity(e,[t],{enableUpdate:!0})),this.address=e,this.localOrigin=t}createColor(){return"#FFF"}toString(){return s.serialize(this)}}t.NPC=r},6317:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=new s.Vector(s.entityOffsets.localOrigin),i=new s.UInt8(s.playerOffsets.glowEnable),r=new s.UInt8(s.playerOffsets.glowThroughWall),n=new s.UInt8(s.playerOffsets.iTeamNum,1e3),a=new s.UInt64(s.playerOffsets.iName,1e3),o=new s.UInt8(s.playerOffsets.lifeState),c=new s.Vector(s.playerOffsets.viewAngles),l=new s.UInt8(s.playerOffsets.bleedoutState),h=new s.UInt8(s.playerOffsets.zooming),u=new s.Vector(s.playerOffsets.aimpunch)){super(new s.api.Entity(e,[t,i,r,n,a,o,c,l,h,u],{enableUpdate:!0})),this.address=e,this.localOrigin=t,this.glowEnable=i,this.glowThroughWalls=r,this.teamNum=n,this.name=a,this.lifeState=o,this.viewAngles=c,this.bleedoutState=l,this.zooming=h,this.aimpunch=u}get isValid(){return!this.lifeState.value&&this.name.value&&0!==this.glowEnable.value&&255!==this.glowEnable.value}createColor(e){return this.isSameTeam(e)?this.bleedoutState.value?"#a60063":"#00FF00":this.bleedoutState.value?"#eb0000":"#FF0000"}isSameTeam(e){return this.teamNum.value===e.teamNum.value}toString(){return s.serialize(this)}}t.Player=r},2682:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0,t.serialize=function(e){return`(${Object.entries(e).sort((([e],[t])=>e.localeCompare(t))).map((([e,t])=>`${e}=${t}`)).join(",")})`}},8207:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,s,r)}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var n=i(4610);Object.defineProperty(t,"api",{enumerable:!0,get:function(){return n.api}}),r(i(2682),t),r(i(8481),t),r(i(350),t),r(i(7432),t),r(i(7617),t),r(i(7121),t),r(i(1618),t),r(i(3581),t),r(i(7132),t),r(i(5429),t),r(i(6317),t),r(i(8324),t),r(i(5661),t),r(i(1940),t),r(i(5169),t),r(i(3925),t),r(i(260),t),r(i(2148),t),r(i(3300),t),r(i(7318),t),r(i(4780),t)},8324:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.coreOffsets=void 0,t.coreOffsets={levelName:BigInt(20580248),clEntityList:BigInt(27737960),localPlayer:BigInt(31605576)}},5661:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.entityOffsets=void 0,t.entityOffsets={localOrigin:344,iSignifierName:1408}},1940:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.itemOffsets=void 0,t.itemOffsets={highlightFunctionBits:704,customScriptInt:5672}},5169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.playerOffsets=void 0,t.playerOffsets={glowEnable:968,glowThroughWall:976,iTeamNum:1096,iName:1417,lifeState:1944,viewAngles:9440,bleedoutState:9864,zooming:7105,aimpunch:9208}},3925:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CString=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t,i){super(new s.api.EntityMember(e,t,i))}get value(){let e="";return function(e,t){for(let i=0;i<e.byteLength;i++){const s=e.getUint8(i);if(0===s)break;t(String.fromCharCode(s))}}(this.source.buffer,(t=>e+=t)),e}toString(){return this.value.toString()}}t.CString=r},2148:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UInt32=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=0){super(new s.api.EntityMember(e,t,4))}get value(){return this.source.buffer.getUint32(0,!0)}set value(e){e!==this.value&&(this.source.buffer.setUint32(0,e,!0),this.source.send=!0)}toString(){return this.value.toString()}}t.UInt32=r},3300:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UInt64=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=0){super(new s.api.EntityMember(e,t,8))}get value(){return this.source.buffer.getBigUint64(0,!0)}set value(e){e!==this.value&&(this.source.buffer.setBigUint64(0,e,!0),this.source.send=!0)}toString(){return this.value.toString()}}t.UInt64=r},260:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UInt8=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=0){super(new s.api.EntityMember(e,t,1))}get value(){return this.source.buffer.getUint8(0)}set value(e){e!==this.value&&(this.source.buffer.setInt8(0,e),this.source.send=!0)}toString(){return this.value.toString()}}t.UInt8=r},7318:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0;const s=i(8207);class r extends s.api.Adapter{constructor(e,t=0){super(new s.api.EntityMember(e,t,12))}get value(){return{x:this.source.buffer.getFloat32(0,!0),y:this.source.buffer.getFloat32(4,!0),z:this.source.buffer.getFloat32(8,!0)}}set value(e){this.value.x===e.x&&this.value.y===e.y&&this.value.z===e.z||(this.source.buffer.setFloat32(0,e.x,!0),this.source.buffer.setFloat32(4,e.y,!0),this.source.buffer.setFloat32(8,e.z,!0),this.source.send=!0)}toString(){return s.serialize(this.value)}}t.Vector=r},3945:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Aimbot=void 0;t.Aimbot=class{updateStates(e,t,i){if(t.bleedoutState.value)return;const s="mp_rr_canyonlands_staging"==e?this.createDummyPLayer():this.findClosestEnemyPlayer(t,Array.from(i));if(null==s)return;const r=this.calcDistance(t,s);let n,a;if(r<=200)n=50,a=2;else{if(!(r<=400))return;n=10,a=4}const o=this.createNewViewingAnglesStats(t,s,a);o.yawDeltaAbs>n||o.pitchDeltaAbs>n||t.zooming.value&&this.writeNewViewingUngles(t,o)}writeNewViewingUngles(e,t){let i=e.viewAngles.value;i.y-=t.yawDeltaSmoothed,i.x-=t.pitchDeltaSmoothed,e.viewAngles.value=i}createNewViewingAnglesStats(e,t,i){const s=this.calcViewAnglesToTarget(e,t),r=e.viewAngles.value.y,n=s.yaw,a=this.calcYawDeltaAndFlipIfNeeded(r,n),o=Math.abs(a),c=a/i,l=e.localOrigin.value.y<t.localOrigin.value.y,h=e.viewAngles.value.x,u=s.pitch,d=h-u;return{currentYaw:r,desiredYaw:n,yawDelta:a,yawDeltaAbs:o,yawDeltaSmoothed:c,flipYaw:l,currentPitch:h,desiredPitch:u,pitchDelta:d,pitchDeltaAbs:Math.abs(d),pitchDeltaSmoothed:d/i}}calcYawDeltaAndFlipIfNeeded(e,t){let i=e-t;return Math.abs(i)>180&&(e>0&&t<0&&(i-=360),e<0&&t>0&&(i=180-Math.abs(e)+180-Math.abs(t))),i}calcViewAnglesToTarget(e,t){const i=t.localOrigin.value.x-e.localOrigin.value.x,s=t.localOrigin.value.y-e.localOrigin.value.y,r=t.localOrigin.value.z-e.localOrigin.value.z,n=Math.sqrt(Math.pow(Math.abs(i),2)+Math.pow(Math.abs(s),2)),a=Math.atan2(s,i)*(180/Math.PI);let o=Number(a.toFixed(9));Math.abs(o)>180&&(o=180);const c=Math.atan(r/-n)*(180/Math.PI);let l=Number(c.toFixed(9));return Math.abs(l)>90&&(l=90),{pitch:l,yaw:o}}findClosestEnemyPlayer(e,t){const i=t.filter((t=>!t.isSameTeam(e)&&!t.bleedoutState.value));if(0==i.length)return null;let s=i[0],r=this.calcDistance(e,s);for(let t=1;t<i.length;t++){const n=i[t],a=this.calcDistance(e,n);a<r&&(s=n,r=a)}return s}createDummyPLayer(){return{localOrigin:{value:{x:31524.71875,y:-6710.02197265625,z:-29235.982421875}}}}calcDistance(e,t){const i=e.localOrigin.value.x-t.localOrigin.value.x,s=e.localOrigin.value.y-t.localOrigin.value.y,r=e.localOrigin.value.z-t.localOrigin.value.z;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2)+Math.pow(r,2))}}},9951:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0;t.Map=class{constructor(e){this.canvas=e,this.image=new Image,this.ratioX=0,this.ratioY=0,this.scaleR=0,this.scaleX=0,this.scaleY=0,this.shiftX=0,this.shiftY=0,this.context=e.getContext("2d")}refresh(e){this.fetch(e),this.update(),this.renderBackground()}renderPlayers(e,t){if(this.map)for(const i of t){if(!i.isValid)continue;const t=this.shiftX+1/this.image.width*this.scaleX*(i.localOrigin.value.x-this.map.x)/this.ratioX,s=this.shiftY+1/this.image.height*this.scaleY*(i.localOrigin.value.y-this.map.y)/-this.ratioY;this.context.beginPath(),this.context.arc(t,s,8*this.scaleR,0,2*Math.PI),this.context.fillStyle=i.createColor(e),this.context.fill()}}fetch(e){this.map=function(e){switch(e){case"mp_rr_canyonlands_mu3":return{x:-37541,y:43886};case"mp_rr_desertlands_mu3":return{x:-45056,y:45055};case"mp_rr_olympus_mu2":return{x:-52024,y:48025};case"mp_rr_tropic_island_mu1":return{x:-50606,y:52139};default:return}}(e),this.image.src=this.map?`images/maps/${e}.webp`:"images/maps.webp"}renderBackground(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.drawImage(this.image,0,0,this.image.width,this.image.height,this.shiftX,this.shiftY,this.scaleX,this.scaleY)}update(){this.map&&(this.ratioX=(this.map.y-this.map.x)/this.image.width,this.ratioY=(this.map.y-this.map.x)/this.image.height,this.scaleR=Math.min(this.canvas.width/this.image.width,this.canvas.height/this.image.height),this.scaleX=this.image.width*this.scaleR,this.scaleY=this.image.height*this.scaleR,this.shiftX=(this.canvas.width-this.scaleX)/2,this.shiftY=(this.canvas.height-this.scaleY)/2)}}},9690:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Norecoil=void 0;t.Norecoil=class{constructor(){this.m_old_punch={x:0,y:0,z:0},this.lastZoomTime=0}updateStates(e){const t=e.viewAngles.value,i=e.aimpunch.value;if(Math.abs(i.x)>=.5||Math.abs(i.y)>=.5||Math.abs(i.z)>=.5){Date.now()-this.lastZoomTime>1e3&&(this.m_old_punch={x:0,y:0,z:0});const s={x:this.m_old_punch.x-i.x,y:this.m_old_punch.y-i.y,z:this.m_old_punch.z-i.z},r={x:t.x+s.x,y:t.y+s.y,z:t.z+s.z};e.viewAngles.value=r,this.m_old_punch=e.aimpunch.value,this.lastZoomTime=Date.now()}}}},6767:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Radar=void 0;t.Radar=class{constructor(e,t=200,i=8){this.canvas=e,this.maximumDistance=t,this.numberOfRings=i,this.centerX=0,this.centerY=0,this.outerRadius=0,this.context=e.getContext("2d")}refresh(){this.update(),this.renderBackground(),this.renderLines(),this.renderRings()}renderItems(e,t){for(const i of t){if(!i.hasColor)continue;const t=this.calculatePosition(e,i.localOrigin);t&&(this.context.beginPath(),this.context.arc(t.x,t.y,this.outerRadius/80,0,2*Math.PI),this.context.fillStyle=i.createColor()??"#FFF",this.context.fill())}}renderNpcs(e,t){for(const i of t){const t=this.calculatePosition(e,i.localOrigin);t&&(this.context.beginPath(),this.context.arc(t.x,t.y,this.outerRadius/40,0,2*Math.PI),this.context.fillStyle=i.createColor(),this.context.fill())}}renderPlayers(e,t){for(const i of t){if(!i.isValid||i===e)continue;const t=this.calculatePosition(e,i.localOrigin);t&&(this.context.beginPath(),this.context.arc(t.x,t.y,this.outerRadius/40,0,2*Math.PI),this.context.fillStyle=i.createColor(e),this.context.fill())}}calculatePosition(e,t){const i=.0254*(e.localOrigin.value.x-t.value.x),s=.0254*(e.localOrigin.value.y-t.value.y),r=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));if(r<this.maximumDistance){const t=this.outerRadius/this.maximumDistance,n=Math.sign(s)*Math.acos(i/r)-e.viewAngles.value.y*Math.PI/180;return{x:this.centerX+Math.sin(n)*r*t,y:this.centerY+Math.cos(n)*r*t}}}renderBackground(){this.context.beginPath(),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.arc(this.centerX,this.centerY,this.outerRadius,0,2*Math.PI),this.context.fillStyle="#000",this.context.fill()}renderLines(){this.context.strokeStyle="#FFF";for(let e=0;e<8;e++){const t=this.centerX+this.outerRadius*Math.cos(e*Math.PI*.25),i=this.centerY+this.outerRadius*Math.sin(e*Math.PI*.25);this.context.beginPath(),this.context.moveTo(this.centerX,this.centerY),this.context.lineTo(t,i),this.context.stroke()}}renderRings(){this.context.strokeStyle="#FFF";for(let e=1;e<=this.numberOfRings;e++)this.context.beginPath(),this.context.arc(this.centerX,this.centerY,this.outerRadius*e/this.numberOfRings,0,2*Math.PI),this.context.stroke()}update(){this.centerX=this.canvas.width/2,this.centerY=this.canvas.height/2,this.outerRadius=(this.canvas.width>this.canvas.height?this.canvas.height:this.canvas.width)/2}}},123:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sense=void 0;t.Sense=class{constructor(e=400){this.maximumDistance=e}updateItems(e,t){for(const i of t)i.hasColor&&this.inRange(e,i.localOrigin)&&(i.highlightFunctionBits.value=1547733641)}updatePlayers(e,t){for(const i of t)i.isValid&&!i.isSameTeam(e)&&this.inRange(e,i.localOrigin)&&(i.glowEnable.value=7,i.glowThroughWalls.value=2)}inRange(e,t){const i=.0254*(e.localOrigin.value.x-t.value.x),s=.0254*(e.localOrigin.value.y-t.value.y);return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))<this.maximumDistance}}},3323:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,s,r)}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.core=void 0;var n=i(4610);Object.defineProperty(t,"core",{enumerable:!0,get:function(){return n.core}}),r(i(9951),t),r(i(6767),t),r(i(123),t),r(i(9690),t),r(i(3945),t)},4610:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.features=t.core=t.api=void 0,t.api=i(6575),t.core=i(8207),t.features=i(3323)},2842:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ui=void 0;const s=i(4610),r=i(7732),n=document.querySelector(".container"),a=document.querySelector(".content"),o=new s.api.Server;async function c(e){const t=await s.core.Core.createAsync(o).catch((()=>{}));return!!t&&(n.style.display="none",await e(t).catch(console.error.bind(console)),n.style.display="inherit",!0)}t.ui=async function(e){for(;;)switch(await o.versionAsync()){case 0:return void(a.innerHTML=r.language.errorDriver);case 5:a.innerHTML=await c(e)?r.language.error:r.language.errorProcess,await new Promise((e=>setTimeout(e,5e3)));break;default:return void(a.innerHTML=r.language.errorVersion)}}},7732:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.language=void 0,t.language={error:"An error occurred. Check your console.",errorDriver:'Load this connector in your <a href="https://github.com/XRadius/http-driver" target="_blank">http-driver</a>.',errorProcess:"Game not found. Did you run it?",errorVersion:'Your <a href="https://github.com/XRadius/http-driver" target="_blank">http-driver</a> is outdated.'}}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}(()=>{const e=i(4610),t=i(2842),s=document.querySelector(".canvas"),r=new e.features.Map(s);s.addEventListener("dblclick",(()=>{(document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen()).catch()})),(0,t.ui)((t=>async function(t){await t.runAsync((()=>{const i=t.playerList.get(t.localPlayer.value);s.height=window.innerHeight,s.width=window.innerWidth,function(e,t){if(r.refresh(e.levelName.value),!t)return;r.renderPlayers(t,e.playerList.values())}(t,i),function(t,i){if(!i||!location.hash.includes("enable-sense"))return;const s=new e.features.Sense;s.updateItems(i,t.itemList.values()),s.updatePlayers(i,t.playerList.values())}(t,i)}))}(t).finally((()=>{s.height=0,s.width=0}))))})()})();